"0","initial_run=1"
"0",""
"0","if(initial_run==1){"
"0","## This should only be run once."
"0",""
"0","# Load our data"
"0",""
"0","NO2_daily <- read_csv(""data/example 1/NO2_daily.csv"", col_types = cols(date = col_date(format = ""%m/%d/%Y"")), show_col_types = FALSE)"
"0","O3_daily <- read_csv(""data/example 1/O3_daily.csv"", col_types = cols(date = col_date(format = ""%m/%d/%Y"")), show_col_types = FALSE)"
"0","PM_daily <- read_csv(""data/example 1/PM_daily.csv"", col_types = cols(date = col_date(format = ""%m/%d/%Y"")), show_col_types = FALSE)"
"0",""
"0","# So that we can permit writing to SQL from R!"
"0","dbSendQuery(sql_conn, ""SET GLOBAL local_infile = true;"")"
"0",""
"0","# create tables in your SQL database"
"0","dbCreateTable(sql_conn,name=""no2_daily"", fields=NO2_daily)"
"0","dbCreateTable(sql_conn,name=""o3_daily"", fields=O3_daily)"
"0","dbCreateTable(sql_conn,name=""pm_daily"", fields=PM_daily)"
"0",""
"0","# write our data to the SQL database"
"0","dbWriteTable(sql_conn,""no2_daily"",NO2_daily,append=TRUE, row.names=FALSE)"
"0","dbWriteTable(sql_conn,""o3_daily"",O3_daily,append=TRUE, row.names=FALSE)"
"0","dbWriteTable(sql_conn,""pm_daily"",PM_daily,append=TRUE, row.names=FALSE)"
"0",""
"0","# RMySQL has some quirks where it really fights pushing the data in a correct datetime format, so we manually send a query to SQL to make sure it's formatted correctly!"
"0","dbSendQuery(sql_conn,""ALTER TABLE no2_daily MODIFY date datetime;"")"
"0","dbSendQuery(sql_conn,""ALTER TABLE o3_daily MODIFY date datetime;"")"
"0","dbSendQuery(sql_conn,""ALTER TABLE pm_daily MODIFY date datetime;"")"
"0","}"
"1","<"
"1",""
"1",""
"1",""
"1","MySQLResult:"
"1",""
"1","1998154584,2,12"
"1",""
"1",">
"
